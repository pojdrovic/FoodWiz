//
//  RecipesViewController.swift
//  FoodWiz
//
//  Created by Petar Ojdrovic on 5/11/17.
//  Copyright Â© 2017 Petar Ojdrovic. All rights reserved.
//

import UIKit

class RecipesViewController: UIViewController, UITableViewDelegate, UITableViewDataSource {
    
    @IBOutlet weak var tableView: UITableView!
    
    var dbMan = DBManager()
    
    
    
    var dictOfHashesAndIngs:[String:[Int]] = ["4833878104435958670": [778, 34, 545, 297, 872, 78, 672, 602, 512, 1090, 988, 545, 414], "5544130266338352644": [853, 672, 129, 480, 78, 545], "4469392421685844999": [449, 782, 992, 672, 78, 932], "6305854436073106951": [975, 673, 153, 721, 232, 216, 1015, 677, 51, 78, 744, 469, 634], "-1240884777092519925": [882, 640, 198, 1040, 949, 198, 911, 911, 41, 934, 969], "5987863653721273354": [1040, 55, 162, 232, 422, 198, 62, 439], "5111736061924418059": [129, 1095, 156, 969, 422, 345, 381, 747, 40, 590, 749], "-4674805791347840496": [334, 783, 317, 366, 98, 674, 661, 129, 969, 81, 345, 896, 627, 25, 598, 617], "8824481628494003726": [1066, 545, 422, 486, 22, 20], "-1224920952063153646": [1040, 673, 153, 258, 1042, 400, 78], "-9162733489510771176": [1015, 672, 78, 1010, 869, 78, 545, 198, 672, 360, 374, 818, 198, 696, 548, 78, 934, 672, 1026, 548], "-7126276704045719011": [153, 545, 593, 203, 808, 129, 902, 640, 1027, 78, 1074, 327, 930, 945, 129, 930], "8264424194535511064": [818, 32, 198, 674, 506, 78, 672, 323, 486, 258, 618], "3531066777475791390": [761, 760, 380, 129, 537, 610, 872, 747, 348, 22, 417, 129, 106, 353, 473, 20, 672, 467, 948, 441, 960, 22, 760], "8721886844174705183": [156, 890, 1024, 41, 672, 902, 65, 363, 1058, 78], "6147750432685684258": [1051, 88, 1051], "-2919005241696698361": [979, 955, 672, 186, 902, 1090, 821, 1015, 1010, 815], "-8226535272242803788": [672, 869, 672, 545, 1015, 902, 414, 145, 48, 183, 324, 696, 209, 78], "-4334062091085597655": [808, 129, 902, 542, 165, 414, 49, 187, 863, 307, 543, 469, 882, 345, 696, 864, 78, 545], "-5384055866648750547": [30, 545, 232, 902, 1074, 78, 969, 618, 106, 695, 1042, 34, 198, 672, 165, 695], "-5448331338018791887": [129, 753, 821, 264, 345, 156, 1095, 674, 618], "-7571260823702952909": [1040, 297, 361, 226, 149, 953, 51, 673, 307, 1015, 544, 422, 414, 305, 772, 872, 258, 556, 1069, 259], "-3396584710401195467": [1015, 634, 48, 672, 41, 721], "2617555543719664692": [190, 129, 577, 1000, 78, 51, 1010, 209, 229, 672, 224, 1040, 902, 853, 971, 806, 318, 1050, 422, 366, 662, 8, 865, 366, 672, 1050, 323], "-2179023720032566216": [35, 668, 640, 945, 772, 182, 345, 78], "1710427285608396346": [345, 156, 747, 129, 156, 348, 857, 129, 185, 156, 857, 610, 1065, 210, 237], "4452601229696705084": [747, 1093, 156, 872, 672, 129, 673, 297, 890, 140, 232, 853, 198, 1025, 378], "3208658925428000829": [747, 872, 129, 672, 55, 129, 771, 1000, 945, 348, 747, 610, 190, 786, 129, 902, 577, 62, 78, 672, 640], "-2014755958471384000": [195, 345, 307, 106, 1040, 721, 585, 949, 554, 618, 198], "1851446570125001793": [156, 129, 345, 747, 455, 598, 496], "-412307106781158846": [806, 1003, 20, 548, 610, 129, 345, 122, 226, 662, 1037, 112, 122], "5382449822084797193": [1015, 721, 232, 672, 1042, 48, 398], "15286174565699141": [232, 422, 890, 554, 869, 945, 400, 618, 198, 554, 1040, 196, 1095, 902, 969, 65, 556, 400], "-7358732346227677109": [760, 833, 872, 934, 953, 226, 232, 422, 949, 198, 996, 318, 828, 1040, 902, 232, 198, 156, 949, 712], "-8808343604231273969": [953, 361, 911, 373, 872, 769, 949, 78, 672, 952, 232, 934, 554, 900, 198], "-3265764635807216541": [348, 327, 674, 156, 129, 932, 496], "-2952010905323654062": [896, 122, 554, 129, 1095, 40, 653, 129, 156, 122, 327, 548], "8521975294451140688": [760, 853, 78, 672, 129, 772, 129, 209, 78, 327, 323, 548], "4933375407806150739": [672, 818, 414, 165, 721, 542, 640, 192, 934, 216, 153, 130, 193, 49], "1980157962932386206": [747, 345, 156, 610, 696, 872, 672, 129, 747, 610, 327, 323, 209, 78, 542, 672, 293], "1266565796924605529": [129, 949, 414, 198, 778, 258], "1545511712024428123": [549, 673, 360, 165, 153, 640, 1010, 672, 902, 232, 960, 696, 872, 683, 228, 778, 232, 872, 348, 672], "5136636991882740826": [672, 188, 35, 673, 232, 165, 153, 655, 1010, 216, 1090, 1042, 78], "-633491495236255558": [615, 882, 345, 673, 414, 864, 642, 1015, 106, 693, 78], "4457109036456432074": [129, 156, 345, 747, 1054, 674, 969, 674, 1095], "2179443127683987553": [761, 890, 1010, 772, 673, 78, 192, 96, 129, 156], "-2997855821026832285": [828, 1042, 672, 129, 673, 198, 696, 400, 375], "5047425866041128033": [177, 695, 610, 747, 129, 163, 662, 78], "-8580324618978962326": [129, 673, 640, 1010, 662, 345, 327, 178, 872, 78, 865, 1000, 672, 872], "1587638082709352040": [129, 673, 814, 20, 122, 822, 129, 457, 414, 577, 129, 672, 1069, 457, 129, 577, 62], "-5507506837350905234": [910, 129, 156, 345, 455, 1037, 674, 9], "6128311081472502381": [471, 960, 1010, 778, 672, 414, 902, 542, 1015, 163, 1048, 1065, 217, 949, 129, 545, 183, 78, 672, 888, 553, 183], "2659856226815998575": [979, 1062, 327, 129, 78, 696], "9081364161135923822": [752, 672, 224, 822, 1015, 818, 721, 232, 48, 78], "8297119260381031024": [890, 78, 853, 55, 672, 772, 747, 129, 40, 489, 414, 129, 153, 697, 1033, 979, 129, 486, 821], "-293966656596423559": [33, 270, 226, 333, 307, 414, 422, 1015, 1042, 1015, 672, 736, 758, 1095, 618, 586], "5370791593414793336": [134, 486, 672, 673, 232, 1074, 1042, 48, 183, 672, 327, 554, 78, 736], "-1247624658882234006": [721, 1015, 872, 163, 672, 33, 129, 747, 610, 695, 545, 78, 672, 533, 721, 1015, 673, 232, 198, 721, 1015, 677, 872, 78, 696], "1171193599180493505": [403, 709, 1087], "1497034728899216010": [129, 122, 1037, 345, 896, 969, 129, 1037, 496, 969, 433, 390, 1037], "-204863889694700916": [1040, 750, 672, 949, 414, 182, 48, 782, 634, 945], "-1986286674134895981": [672, 817, 78, 672, 721, 78, 33, 232], "-2830015587824042640": [960, 562, 673, 360, 165, 51, 696, 1072, 869, 536, 383, 78, 327, 863, 129, 129, 747, 960, 327, 1000, 78], "-3342189623121999202": [610, 747, 78], "595332955860010655": [987, 893, 672, 232, 696, 41, 556], "-4263796161990684510": [668, 345, 414, 642, 872, 78, 1075], "-116609650047604623": [381, 872, 1093, 381, 182, 1010, 672, 898, 265, 232, 1074, 348, 695, 323, 672, 78], "5927068326521425574": [1015, 949, 198, 737, 400, 545], "-8124979469170075475": [297, 198, 258, 668, 525, 270, 545, 554, 674, 1042, 174, 747, 345, 270, 1040], "-7473215256135881554": [1040, 55, 165, 153, 673, 232, 1015, 747, 78, 6, 62, 1010, 55, 896, 78, 488], "8296811285185326254": [672, 772, 542, 345, 48], "7636893510169697968": [673, 165, 153, 1040, 853, 51, 1015, 747, 1042, 980, 934, 721], "-9192859629882788163": [318, 828, 1003, 337, 721, 129, 655, 674, 156, 906, 192, 129], "6743416740081685533": [965, 872, 969, 1093, 672, 345, 758], "4652169248441304763": [747, 78, 353, 129, 600, 672, 542, 186, 78, 599, 323, 437, 333, 865], "-744920242075899201": [595, 69, 129, 889, 345, 747, 559, 890, 78, 1069, 545], "7995990400028951229": [672, 337, 174, 902, 6, 554, 545, 674, 78, 934, 486, 1090, 900, 672], "7382617561144331966": [673, 153, 975, 113, 232, 422, 198, 969, 622, 934, 62, 899, 949, 53], "4760274019738938561": [337, 78, 373, 441, 674, 1058], "-5864102435615639353": [129, 297, 673, 422, 198, 414, 872, 49, 451, 1032, 413, 78], "7339972784764805319": [975, 673, 414, 94, 198, 307, 772, 1043, 192, 872, 78], "8235066503591413452": [713, 1058, 959, 1054, 37, 696, 545, 1055, 672, 642, 1075, 969, 78], "4056756074966966151": [737, 971, 896, 122, 69, 226, 662, 872, 979, 1040, 345, 1036, 597, 390, 496, 591, 496, 700, 347, 496, 387, 390, 390], "8836891722656830163": [381, 345, 307, 202, 610, 818, 110, 872, 78, 258, 1040], "4595320306440666838": [196, 670, 1040, 872, 202, 585], "-3737782038694523174": [347, 156, 496, 854, 390, 327, 1071, 316, 547, 278], "-5566986717577415459": [672, 35, 129, 78, 512], "8417063980882706137": [198, 486, 554, 468, 867, 672], "7782384781682368734": [512, 323, 1090, 988, 808, 1015, 209, 55, 902, 419, 145, 696, 1015, 1015, 165, 414, 902, 1010, 1000, 48, 872, 969, 163, 1090, 988, 417, 672, 161, 847, 847, 546], "-4403015363512114455": [529, 673, 1032, 226, 297, 890, 736, 303, 696, 345, 1040], "7031514247197819114": [63, 347, 348, 178, 78, 268, 696, 48, 209, 672, 41], "9041324016283588847": [818, 34, 156, 556, 198, 78], "6474573035491322097": [713, 821, 98, 156, 226, 1038, 953, 545, 674, 610, 327, 1038, 348, 156, 747, 264], "-7736578019347438727": [551, 232, 198, 422, 557, 554, 1040, 902, 890, 297, 65, 1042, 240, 78, 1095, 618, 400, 295, 378], "9027125914224990969": [975, 345, 747, 750, 462, 818, 198, 554, 258, 1015, 156, 672, 348, 975, 696, 258, 847, 695, 1046, 721, 890, 554, 400], "3469892353319939840": [32, 715, 672, 414, 365, 78, 224, 902, 1048, 129, 696, 209, 1000, 548, 1058], "7973517420198636800": [366, 782, 672, 41, 78, 103], "-5168821834788882169": [129, 673, 360, 165, 837, 1074, 960, 863, 129, 129, 673, 360, 198, 260, 674, 216, 821, 631, 258, 618], "694130325104974603": [345, 747, 610, 129, 279, 156, 674, 548, 98], "7107185873772766985": [672, 673, 414, 721, 207, 52, 512, 177, 1040, 382, 554, 933, 34, 400, 78], "1016528976782108619": [58, 345, 673, 672, 672, 673, 232, 297, 78, 232, 226, 51, 149, 413, 202, 1032, 1015, 828], "-5954373509441027815": [129, 156, 610, 327, 316, 674, 345, 264, 747, 237, 675, 545, 156, 676], "3690832831568545562": [672, 129, 673, 542, 772, 165, 884, 1042, 216, 78, 48], "6262844765490523421": [747, 496, 872, 129, 348, 348, 156, 264, 610, 1038, 327, 129, 350, 623, 824], "8523524125188131613": [606, 240, 969, 753, 375], "-5358331062545967310": [786, 345, 900, 327, 316, 674, 496], "-6975501370441006809": [747, 345, 610, 129, 348, 156, 783, 674, 347], "2529916744892293925": [771, 672, 106, 736, 717, 696, 465], "-7081573019445129719": [381, 872, 260, 345, 610], "-8991214714444795085": [422, 885, 668, 78], "-7535572179568929909": [896, 69, 872, 156, 133, 610, 345, 129, 35, 590], "-2659660245366598347": [915, 78, 129, 902, 145, 1015, 562, 960, 736, 772, 545, 696], "2083438610338442039": [747, 237, 69, 890, 156, 129, 345, 65, 1038, 599, 496, 327, 562, 156, 316, 327, 347, 281, 156], "5176739657665975094": [30, 545, 1075, 672, 232, 479, 677, 890, 78], "9084365751259548977": [772, 1040, 914, 78, 323], "7489375305544930313": [672, 78, 48, 889, 960, 232, 655, 672, 129, 545, 890, 672, 32, 348, 1075, 229, 78, 48, 545], "-9148876902962398579": [129, 156, 433, 747, 456, 98, 743, 674, 554, 545, 585, 230, 753, 144], "-4199201704750904513": [672, 270, 331, 400, 548, 78, 1042, 102, 48], "-319199990017205441": [747, 129, 496, 345, 545, 264, 156, 348, 347, 156, 264], "-2083441572015893922": [441, 554, 156, 872, 699, 672, 494, 195, 869, 183, 545], "-6036943543517223611": [672, 673, 414, 809, 226, 258, 182, 258, 345, 78], "-5284590951738885817": [1095, 324, 78], "-5314931853942165789": [664, 896, 456, 122, 129, 433, 81, 345, 610], "-4454603354501456052": [316, 327, 98, 496], "-5796195375302087346": [896, 129, 872, 156, 610, 129, 231, 963], "-788835152342536245": [1040, 585, 486, 496], "5815827136913361744": [746, 872, 1073, 345, 264, 1040, 414, 949, 336, 899], "-118146167384205484": [188, 830, 232, 400, 710, 934, 486, 200, 41, 295], "-4822239320867013801": [33, 297, 260, 672, 327, 545, 78, 631, 129, 671, 145, 15, 198, 672, 696, 165], "-3092185217822824105": [129, 902, 414, 697, 1010, 486, 307, 1042, 327, 808, 945, 808, 885, 259], "-6563815321813169319": [1051, 676, 556, 275, 674], "1352811797480673113": [902, 672, 1010, 672, 528, 78, 673, 153, 165, 232, 853, 618, 696, 129, 902, 945, 930, 183, 913, 414], "-8940156136058716832": [955, 934, 486, 899, 1040, 129, 696, 153, 268, 673, 1095, 78, 400], "6395827158084270940": [232, 1010, 78, 808, 1089, 969, 821, 1010, 508, 542, 129, 640, 640, 414, 808, 721], "974474272410833808": [551, 260, 297, 1032, 239, 673, 232, 198, 422, 51, 55, 240, 62, 204, 557, 198, 708, 618, 949, 449, 400, 1009, 554, 975, 371, 198, 414, 828, 828, 872], "-7136910337990394523": [187, 78, 747, 672, 129, 640, 186, 902, 156, 1074, 192, 1015, 1000, 1015, 1040, 772, 78], "-5614151838903987353": [129, 368, 486, 674, 327], "-5155256637518225560": [129, 1010, 853, 1040, 1028, 673, 414, 1010, 192, 129, 673, 1010, 1040, 383, 1080, 696, 78, 1015, 129, 549, 548, 121, 545, 145, 1015, 902, 696, 715], "4912220238814694760": [414, 1010, 422, 198, 890, 194, 226, 1040, 864, 414, 202, 1010, 890, 251], "5091937630091193194": [914, 78, 229, 414, 249, 821, 62, 469, 345], "2995228822109301614": [368, 381, 869, 933, 324, 548, 78, 890, 346, 1040, 672, 1075, 486, 872, 1058, 847, 34, 869], "4107439211620790151": [672, 818, 721, 216, 696, 78, 939, 1026], "4019169716515388758": [672, 486, 934, 778, 585, 34, 672, 400, 78], "-2893743830057729729": [1015, 672, 41, 48, 696, 400, 853, 1069], "-6711010213763805832": [890, 1010, 1073, 51, 545, 567, 129, 655, 78, 353, 1075, 672, 1040, 564, 1058, 129, 902, 232, 1064, 696], "2064207564560381818": [672, 169, 129, 902, 232, 687, 872, 345, 1065, 348, 695, 610, 721, 192, 687, 672, 268, 584, 32, 640, 715, 695, 747], "3409056778307913277": [347, 156, 545, 129, 156, 545, 345, 40, 896, 545, 129, 156, 345, 599, 327, 496, 545], "8084448115835279312": [1014, 333, 872, 1010, 368, 345, 900, 672], "6013833752431598460": [134, 672, 307, 129, 545, 327, 209], "-6055590847498147347": [672, 818, 979, 115, 1015, 1042, 103, 959, 400], "5093370301886365573": [240, 712, 832, 156, 306, 371], "581762557745449864": [345, 156, 545, 545, 345, 156, 129, 264, 496], "-2053054038521493109": [455, 129, 156, 348, 1037, 910, 747, 811, 610, 9], "-2026087574490487412": [164, 545, 327, 602, 323, 1073], "-7067801084880254573": [687, 673, 122, 41, 552, 182, 48, 103, 414, 882, 348, 672], "2415101385688873360": [188, 188, 188, 188, 747, 129, 672, 78, 1074, 672, 268, 1015, 592, 695, 78], "3987383038909572930": [165, 153, 672, 673, 772, 232, 94, 78, 471, 48, 695, 672, 78], "1253012567521301910": [1045, 78, 1040, 129, 129, 673, 538, 715, 114, 853], "-740105790976263784": [672, 539, 834, 48, 662, 78, 672, 414, 699, 78], "-3879115113983009381": [872, 475, 55, 673, 664, 872, 78, 258, 575, 662, 465, 960], "2918415569083135899": [1082, 872, 672, 232, 422, 872, 413, 198, 1015, 242, 1040, 895, 195], "-7034449427738964067": [306, 1078, 672, 672, 673, 414, 1015, 122, 198, 822, 78, 258, 545, 696], "5164336630472193948": [187, 192, 78, 129, 672, 1033, 153, 301, 715, 129, 672, 186], "7089242319598046620": [747, 40, 610, 345, 505, 853, 78, 672, 110, 847, 1054], "-6669985234202518621": [975, 122, 345, 133, 1037, 826, 20, 1054, 40, 747, 97, 318, 226, 662], "9006022099337791904": [1010, 260, 853, 890, 648, 672, 192, 129, 902, 145, 258, 156, 1075, 902, 818, 668], "-5182785709004690008": [965, 872, 156, 1093, 671, 853, 672], "224062914486607271": [129, 73, 417, 599, 545, 327, 156, 547, 618, 496], "-7341524213027204179": [672, 955, 673, 640, 153, 1015, 1042, 1015, 1090, 78, 939, 696], "655920203678208939": [747, 872, 129], "8108499149773427354": [532, 808, 673, 232, 747, 1074, 192, 772, 153, 165, 853, 1010, 471, 348, 786, 715, 78], "5235672715935124910": [103, 182, 431, 847, 48, 672], "-5873996458162195533": [747, 693, 872, 129, 347, 945, 178, 662, 78, 794, 693], "4567841484952789427": [156, 429, 156, 347, 700, 986, 610, 1038, 348, 156, 417, 700, 327, 137, 986, 700, 417, 823, 700], "1457097526844793781": [195, 673, 153, 198, 422, 400, 345, 106, 1040, 128, 642], "1457878776859228088": [1040, 869, 345, 270, 672, 414, 1015, 333, 41, 696], "1629928838976935353": [186, 414, 35, 345, 209, 1080, 129, 932, 78], "-8730102125905884254": [129, 381, 192, 327, 548, 1000, 721, 640, 187, 786, 345], "-5648296056067128895": [129, 73, 279, 834, 327, 345, 156, 264, 1038, 366, 496, 618], "5332394709743274942": [747, 129, 177, 715, 114, 32, 449, 345, 327, 610, 696, 78, 1058, 1015], "2665326664532887649": [668, 673, 414, 198, 216, 822, 969, 78, 1050, 419, 400], "-8697079547677576246": [1040, 902, 198, 232, 422, 778, 115, 153, 830, 995, 371, 934, 1073, 554, 258, 712], "-6476063864479697459": [760, 1040, 890, 486, 23, 128], "-502535108453184051": [156, 545, 896, 156, 968, 545, 348, 156, 610, 327, 1038], "-5155041850327666736": [129, 672, 549, 78, 1074, 209, 696, 672, 414, 969, 439, 375], "5581925779867226574": [655, 511, 295, 949, 41, 808, 548, 78, 664, 78, 480, 353, 129, 808, 545], "7700767531698164640": [466, 129, 641, 234, 1074, 129, 902, 327, 863, 536, 1015, 209, 183, 876, 129, 479, 161], "5434503112166206425": [1024, 323, 324, 78, 279, 163, 1058, 103], "2465812652070712288": [20, 334, 665, 318, 22, 1040], "-1362939411401136155": [383, 129, 949, 696, 545, 869, 78, 672, 1058, 869, 545, 209, 902, 1058, 672, 348, 1075, 353, 872, 545], "-3476938926543953433": [672, 545, 554, 41, 1015, 696, 900, 78], "2988897711056316496": [187, 35, 882, 714, 153, 673, 232, 772, 542, 721, 884, 1032, 94, 78], "-2846045074500658197": [772, 1040, 872, 1040, 78, 232, 149, 198, 226, 673, 1015, 872, 422, 232, 202, 297, 258, 413, 1032, 187, 122, 331, 1075, 258], "645668606557963943": [747, 345, 890, 672, 232, 182, 333, 78, 1062, 48, 696, 48], "-3005944168632672275": [847, 672, 545, 818, 122], "6557877107405785068": [210, 129, 156, 1037, 345, 455, 747, 25, 210, 327, 611], "-5241050694176163854": [672, 189, 217, 902, 747, 225, 192, 323, 78, 327, 164, 548, 129, 913, 1073, 449], "-5386723829221988877": [129, 464, 640, 1074, 1042, 324, 545, 327], "3248658421032098898": [193, 668, 232, 264, 934, 934, 832, 297, 202, 258, 192, 872, 1040, 198, 297, 232, 818, 721, 872, 969, 202, 297, 934, 264, 545, 949, 1058], "8151257160876938738": [896, 872, 456, 662, 627, 433, 81, 129, 122, 345, 610, 433, 22, 627, 225, 493], "-9194793204340234": [979, 1042, 78, 333, 327, 209, 672], "-811150353858975241": [156, 129, 345, 896, 1037, 811, 327, 496], "5650017711757501878": [672, 955, 853, 1010, 129, 65, 449, 78], "-6273088928722871300": [896, 345, 610, 268, 78, 129, 672, 1095, 693], "7802444153716260344": [156, 747, 455, 226, 129, 345, 811, 496], "-7523083578314624524": [672, 545, 129, 156, 345, 455, 750, 545, 599, 327, 1051, 496, 545, 618, 545], "-2015909782167256579": [747, 237, 890, 40, 39, 716, 129, 156, 133, 345, 969, 129, 1065, 890, 156, 716], "-211499956675256834": [58, 414, 672, 78, 34, 554, 400, 382, 1095, 564], "-5451274495079170500": [655, 115, 32, 114, 715, 672, 129, 78, 129, 1027, 129, 902, 1074, 960, 327, 168, 209, 183]]
    
    var arrayOfIngredients: [Int] = []
    var arrayOfNames: [String] = []
    var myList:[String] = ["lolololol"]
    
    let databaseFileName = "hashesAndIngs.sqlite"
    var pathToDatabase: String!
    var database: FMDatabase!
    
    var getAllData = NSMutableArray()
    var recipeObjects:[recipe_info] = NSMutableArray() as! [recipe_info]
    
    
    

    override func viewDidLoad() {
        super.viewDidLoad()
        //print("Loaded the recipes page!")
        tableView.delegate = self
        
        let documentsDirectory = (NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true)[0] as NSString) as String
        pathToDatabase = documentsDirectory.appending("/\(databaseFileName)")
        var storedIngredients = UserDefaults.standard.object(forKey: "ingredients") as! [Int]
        //getAllData = DBManager.getInstance().getAllHashIngs(ingredients: storedIngredients)
        recipeObjects = DBManager.getInstance().getAllAvailableRecipes(ingredients: storedIngredients) as! [recipe_info]
        self.printRecipes()
        populateListOfRecipes()
        tableView.reloadData()

        // Do any additional setup after loading the view.
    }
    
    func printRecipes(){
        for element in recipeObjects{
            var tempTitle = element.recipeTitle as! String
            print(tempTitle)
            //arrayOfNames.append(tempTitle)
        }
    }
    
    

    
    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
        //populateListOfRecipes()
        //print("got inside cellForRowAt!")
        let cell = tableView.dequeueReusableCell(withIdentifier: "cell", for: indexPath) as UITableViewCell
        cell.layoutMargins = UIEdgeInsets.zero
        let index = indexPath.row as Int
        var tempRecipe:recipe_info = recipeObjects[index] as! recipe_info
        var textLabel = tempRecipe.recipeTitle
        //cell.textLabel!.text = String(recipeObjects[index].ti)
        //cell.textLabel!.text = String(arrayOfNames[index])
        cell.textLabel!.text = textLabel
        return cell

    }
    
    func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) {
        let index = indexPath.row as Int
        var selectedRecipe:recipe_info = recipeObjects[index] as! recipe_info
        var hashOfRecipe = selectedRecipe.hashName
        UserDefaults.standard.set(hashOfRecipe, forKey: "selectedRecipe")
        //UserDefaults.standard.set(selectedRecipe, forKey: "activeRecipe")
        var selectedRecipeHash = UserDefaults.standard.object(forKey: "selectedRecipe") as! Int
        print(selectedRecipeHash)

        print("selectedRow!")
    }
    
    
    
    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
        //print("num of rows called!")
        //return arrayOfNames.count
        return recipeObjects.count
    }

    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
        // Dispose of any resources that can be recreated.
    }
    
    // function to populate the list of ingredients.
    func populateListOfRecipes(){
        var storedIngredients = UserDefaults.standard.object(forKey: "ingredients") as! [Int]
        
        for(key, value) in dictOfHashesAndIngs{
            let listSet = Set(storedIngredients)
            let findListSet = Set(value)
            if findListSet.isSubset(of: listSet){
                print("found a match!")
                arrayOfNames.append(key)
                print(arrayOfNames)
            }
        }
        
        tableView.reloadData()
        
    }
    

    /*
    // MARK: - Navigation

    // In a storyboard-based application, you will often want to do a little preparation before navigation
    override func prepare(for segue: UIStoryboardSegue, sender: Any?) {
        // Get the new view controller using segue.destinationViewController.
        // Pass the selected object to the new view controller.
    }
    */

}
